{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar utils_1 = require(\"./utils\");\n\nvar types_1 = require(\"./types\");\n\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\n\nvar Range =\n/** @class */\nfunction (_super) {\n  __extends(Range, _super);\n\n  function Range(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.trackRef = React.createRef();\n    _this.thumbRefs = [];\n    _this.markRefs = [];\n    _this.state = {\n      draggedTrackPos: [-1, -1],\n      draggedThumbIndex: -1,\n      thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) {\n        return i;\n      }),\n      isChanged: false,\n      markOffsets: []\n    };\n\n    _this.getOffsets = function () {\n      var _a = _this.props,\n          direction = _a.direction,\n          values = _a.values,\n          min = _a.min,\n          max = _a.max;\n      var trackElement = _this.trackRef.current;\n      var trackRect = trackElement.getBoundingClientRect();\n      var trackPadding = utils_1.getPaddingAndBorder(trackElement);\n      return _this.getThumbs().map(function (thumb, index) {\n        var thumbOffsets = {\n          x: 0,\n          y: 0\n        };\n        var thumbRect = thumb.getBoundingClientRect();\n        var thumbMargins = utils_1.getMargin(thumb);\n\n        switch (direction) {\n          case types_1.Direction.Right:\n            thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n            thumbOffsets.x += trackRect.width * utils_1.relativeValue(values[index], min, max) - thumbRect.width / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Left:\n            thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n            thumbOffsets.y = ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n            thumbOffsets.x += trackRect.width - trackRect.width * utils_1.relativeValue(values[index], min, max) - thumbRect.width / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Up:\n            thumbOffsets.x = ((thumbRect.width - trackRect.width) / 2 + thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = -trackPadding.left;\n            thumbOffsets.y += trackRect.height - trackRect.height * utils_1.relativeValue(values[index], min, max) - thumbRect.height / 2;\n            return thumbOffsets;\n\n          case types_1.Direction.Down:\n            thumbOffsets.x = ((thumbRect.width - trackRect.width) / 2 + thumbMargins.left + trackPadding.left) * -1;\n            thumbOffsets.y = -trackPadding.left;\n            thumbOffsets.y += trackRect.height * utils_1.relativeValue(values[index], min, max) - thumbRect.height / 2;\n            return thumbOffsets;\n\n          default:\n            return utils_1.assertUnreachable(direction);\n        }\n      });\n    };\n\n    _this.getThumbs = function () {\n      if (_this.trackRef && _this.trackRef.current) {\n        return Array.from(_this.trackRef.current.children).filter(function (el) {\n          return el.hasAttribute('aria-valuenow');\n        });\n      }\n\n      console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n      return [];\n    };\n\n    _this.getTargetIndex = function (e) {\n      return _this.getThumbs().findIndex(function (child) {\n        return child === e.target || child.contains(e.target);\n      });\n    };\n\n    _this.addTouchEvents = function (e) {\n      document.addEventListener('touchmove', _this.schdOnTouchMove, {\n        passive: false\n      });\n      document.addEventListener('touchend', _this.schdOnEnd, {\n        passive: false\n      });\n      document.addEventListener('touchcancel', _this.schdOnEnd, {\n        passive: false\n      });\n    };\n\n    _this.addMouseEvents = function (e) {\n      document.addEventListener('mousemove', _this.schdOnMouseMove);\n      document.addEventListener('mouseup', _this.schdOnEnd);\n    };\n\n    _this.onMouseDownTrack = function (e) {\n      var _a;\n\n      if (e.button !== 0) return;\n      e.persist();\n      e.preventDefault();\n\n      _this.addMouseEvents(e.nativeEvent);\n\n      if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n        if (_this.thumbRefs.some(function (thumbRef) {\n          var _a;\n\n          return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target);\n        })) return; // handle dragging the whole track\n\n        _this.setState({\n          draggedTrackPos: [e.clientX, e.clientY]\n        }, function () {\n          return _this.onMove(e.clientX, e.clientY);\n        });\n      } else {\n        // get the index of the thumb that is closest to the place where the track is clicked\n        var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) {\n          return t.current;\n        }), e.clientX, e.clientY, _this.props.direction); // move the thumb which is closest to the place where the track is clicked\n\n        (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n\n        _this.setState({\n          draggedThumbIndex: draggedThumbIndex\n        }, function () {\n          return _this.onMove(e.clientX, e.clientY);\n        });\n      }\n    };\n\n    _this.onResize = function () {\n      utils_1.translateThumbs(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n\n      _this.calculateMarkOffsets();\n    };\n\n    _this.onTouchStartTrack = function (e) {\n      var _a;\n\n      e.persist();\n\n      _this.addTouchEvents(e.nativeEvent);\n\n      if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n        if (_this.thumbRefs.some(function (thumbRef) {\n          var _a;\n\n          return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target);\n        })) return; // handle dragging the whole track\n\n        _this.setState({\n          draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n        }, function () {\n          return _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        });\n      } else {\n        // get the index of the thumb that is closest to the place where the track is clicked\n        var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) {\n          return t.current;\n        }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction); // move the thumb which is closest to the place where the track is clicked\n\n        (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n\n        _this.setState({\n          draggedThumbIndex: draggedThumbIndex\n        }, function () {\n          return _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        });\n      }\n    };\n\n    _this.onMouseOrTouchStart = function (e) {\n      if (_this.props.disabled) return;\n      var isTouch = utils_1.isTouchEvent(e);\n      if (!isTouch && e.button !== 0) return;\n\n      var index = _this.getTargetIndex(e);\n\n      if (index === -1) return;\n\n      if (isTouch) {\n        _this.addTouchEvents(e);\n      } else {\n        _this.addMouseEvents(e);\n      }\n\n      _this.setState({\n        draggedThumbIndex: index,\n        thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n          if (i === index) {\n            return Math.max.apply(Math, _this.state.thumbZIndexes);\n          }\n\n          return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n        })\n      });\n    };\n\n    _this.onMouseMove = function (e) {\n      e.preventDefault();\n\n      _this.onMove(e.clientX, e.clientY);\n    };\n\n    _this.onTouchMove = function (e) {\n      e.preventDefault();\n\n      _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n    };\n\n    _this.onKeyDown = function (e) {\n      var _a = _this.props,\n          values = _a.values,\n          onChange = _a.onChange,\n          step = _a.step,\n          rtl = _a.rtl,\n          direction = _a.direction;\n      var isChanged = _this.state.isChanged;\n\n      var index = _this.getTargetIndex(e.nativeEvent);\n\n      var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down ? -1 : 1;\n      if (index === -1) return;\n\n      if (INCREASE_KEYS.includes(e.key)) {\n        e.preventDefault();\n\n        _this.setState({\n          draggedThumbIndex: index,\n          isChanged: true\n        });\n\n        onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n      } else if (DECREASE_KEYS.includes(e.key)) {\n        e.preventDefault();\n\n        _this.setState({\n          draggedThumbIndex: index,\n          isChanged: true\n        });\n\n        onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] - inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n      } else if (e.key === 'Tab') {\n        _this.setState({\n          draggedThumbIndex: -1\n        }, function () {\n          // If key pressed when thumb was moving, fire onFinalChange\n          if (isChanged) {\n            _this.fireOnFinalChange();\n          }\n        });\n      } else {\n        if (isChanged) {\n          _this.fireOnFinalChange();\n        }\n      }\n    };\n\n    _this.onKeyUp = function (e) {\n      var isChanged = _this.state.isChanged;\n\n      _this.setState({\n        draggedThumbIndex: -1\n      }, function () {\n        if (isChanged) {\n          _this.fireOnFinalChange();\n        }\n      });\n    };\n\n    _this.onMove = function (clientX, clientY) {\n      var _a = _this.state,\n          draggedThumbIndex = _a.draggedThumbIndex,\n          draggedTrackPos = _a.draggedTrackPos;\n      var _b = _this.props,\n          direction = _b.direction,\n          min = _b.min,\n          max = _b.max,\n          onChange = _b.onChange,\n          values = _b.values,\n          step = _b.step,\n          rtl = _b.rtl;\n      if (draggedThumbIndex === -1 && draggedTrackPos[0] === -1 && draggedTrackPos[1] === -1) return null;\n      var trackElement = _this.trackRef.current; // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n\n      if (!trackElement) return null;\n      var trackRect = trackElement.getBoundingClientRect();\n      var trackLength = utils_1.isVertical(direction) ? trackRect.height : trackRect.width;\n\n      if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n        // calculate how much it moved since the last update\n        var dX = clientX - draggedTrackPos[0];\n        var dY = clientY - draggedTrackPos[1]; // calculate the delta of the value\n\n        var deltaValue = 0;\n\n        switch (direction) {\n          case types_1.Direction.Right:\n          case types_1.Direction.Left:\n            deltaValue = dX / trackLength * (max - min);\n            break;\n\n          case types_1.Direction.Down:\n          case types_1.Direction.Up:\n            deltaValue = dY / trackLength * (max - min);\n            break;\n\n          default:\n            utils_1.assertUnreachable(direction);\n        } // invert for RTL\n\n\n        if (rtl) {\n          deltaValue *= -1;\n        }\n\n        if (Math.abs(deltaValue) >= step / 2) {\n          // adjust delta so it fits into the range\n          for (var i = 0; i < _this.thumbRefs.length; i++) {\n            if (values[i] === max && Math.sign(deltaValue) === 1 || values[i] === min && Math.sign(deltaValue) === -1) return;\n            var thumbValue = values[i] + deltaValue;\n            if (thumbValue > max) deltaValue = max - values[i];else if (thumbValue < min) deltaValue = min - values[i];\n          } // add the delta to each thumb\n\n\n          var newValues = values.slice(0);\n\n          for (var i = 0; i < _this.thumbRefs.length; i++) {\n            newValues = utils_1.replaceAt(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n          }\n\n          _this.setState({\n            draggedTrackPos: [clientX, clientY]\n          });\n\n          onChange(newValues);\n        }\n      } else {\n        var newValue = 0;\n\n        switch (direction) {\n          case types_1.Direction.Right:\n            newValue = (clientX - trackRect.left) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Left:\n            newValue = (trackLength - (clientX - trackRect.left)) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Down:\n            newValue = (clientY - trackRect.top) / trackLength * (max - min) + min;\n            break;\n\n          case types_1.Direction.Up:\n            newValue = (trackLength - (clientY - trackRect.top)) / trackLength * (max - min) + min;\n            break;\n\n          default:\n            utils_1.assertUnreachable(direction);\n        } // invert for RTL\n\n\n        if (rtl) {\n          newValue = max + min - newValue;\n        }\n\n        if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n          onChange(utils_1.replaceAt(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n        }\n      }\n    };\n\n    _this.normalizeValue = function (value, index) {\n      var _a = _this.props,\n          min = _a.min,\n          max = _a.max,\n          step = _a.step,\n          allowOverlap = _a.allowOverlap,\n          values = _a.values;\n      return utils_1.normalizeValue(value, index, min, max, step, allowOverlap, values);\n    };\n\n    _this.onEnd = function (e) {\n      e.preventDefault();\n      document.removeEventListener('mousemove', _this.schdOnMouseMove);\n      document.removeEventListener('touchmove', _this.schdOnTouchMove);\n      document.removeEventListener('mouseup', _this.schdOnEnd);\n      document.removeEventListener('touchend', _this.schdOnEnd);\n      document.removeEventListener('touchcancel', _this.schdOnEnd);\n      if (_this.state.draggedThumbIndex === -1 && _this.state.draggedTrackPos[0] === -1 && _this.state.draggedTrackPos[1] === -1) return null;\n\n      _this.setState({\n        draggedThumbIndex: -1,\n        draggedTrackPos: [-1, -1]\n      }, function () {\n        _this.fireOnFinalChange();\n      });\n    };\n\n    _this.fireOnFinalChange = function () {\n      _this.setState({\n        isChanged: false\n      });\n\n      var _a = _this.props,\n          onFinalChange = _a.onFinalChange,\n          values = _a.values;\n\n      if (onFinalChange) {\n        onFinalChange(values);\n      }\n    };\n\n    _this.calculateMarkOffsets = function () {\n      if (!_this.props.renderMark || !_this.trackRef || _this.trackRef.current === null) return;\n      var elStyles = window.getComputedStyle(_this.trackRef.current);\n      var trackWidth = parseInt(elStyles.width, 10);\n      var trackHeight = parseInt(elStyles.height, 10);\n      var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n      var paddingTop = parseInt(elStyles.paddingTop, 10);\n      var res = [];\n\n      for (var i = 0; i < _this.numOfMarks + 1; i++) {\n        var markHeight = 9999;\n        var markWidth = 9999;\n\n        if (_this.markRefs[i].current) {\n          var markRect = _this.markRefs[i].current.getBoundingClientRect();\n\n          markHeight = markRect.height;\n          markWidth = markRect.width;\n        }\n\n        if (_this.props.direction === types_1.Direction.Left || _this.props.direction === types_1.Direction.Right) {\n          res.push([Math.round(trackWidth / _this.numOfMarks * i + paddingLeft - markWidth / 2), -Math.round((markHeight - trackHeight) / 2)]);\n        } else {\n          res.push([Math.round(trackHeight / _this.numOfMarks * i + paddingTop - markHeight / 2), -Math.round((markWidth - trackWidth) / 2)]);\n        }\n      }\n\n      _this.setState({\n        markOffsets: res\n      });\n    };\n\n    if (props.step === 0) {\n      throw new Error('\"step\" property should be a positive number');\n    }\n\n    _this.numOfMarks = (props.max - props.min) / _this.props.step;\n    _this.schdOnMouseMove = utils_1.schd(_this.onMouseMove);\n    _this.schdOnTouchMove = utils_1.schd(_this.onTouchMove);\n    _this.schdOnEnd = utils_1.schd(_this.onEnd);\n    _this.thumbRefs = props.values.map(function () {\n      return React.createRef();\n    });\n\n    for (var i = 0; i < _this.numOfMarks + 1; i++) {\n      _this.markRefs[i] = React.createRef();\n    }\n\n    return _this;\n  }\n\n  Range.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var _a = this.props,\n        values = _a.values,\n        min = _a.min,\n        step = _a.step;\n    this.resizeObserver = window.ResizeObserver ? new window.ResizeObserver(this.onResize) : {\n      observe: function () {\n        return window.addEventListener('resize', _this.onResize);\n      },\n      unobserve: function () {\n        return window.removeEventListener('resize', _this.onResize);\n      }\n    };\n    document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n      passive: false\n    });\n    document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n      passive: false\n    });\n    !this.props.allowOverlap && utils_1.checkInitialOverlap(this.props.values);\n    this.props.values.forEach(function (value) {\n      return utils_1.checkBoundaries(value, _this.props.min, _this.props.max);\n    });\n    this.resizeObserver.observe(this.trackRef.current);\n    utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), this.props.rtl);\n    this.calculateMarkOffsets();\n    values.forEach(function (value) {\n      if (!utils_1.isStepDivisible(min, value, step)) {\n        console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n      }\n    });\n  };\n\n  Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n        max = _a.max,\n        min = _a.min,\n        step = _a.step,\n        values = _a.values,\n        rtl = _a.rtl;\n\n    if (prevProps.max !== max || prevProps.min !== min || prevProps.step !== step) {\n      this.markRefs = [];\n      this.numOfMarks = (max - min) / step;\n\n      for (var i = 0; i < this.numOfMarks + 1; i++) {\n        this.markRefs[i] = React.createRef();\n      }\n    }\n\n    utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), rtl); // ensure offsets are calculated when the refs for the marks have been created\n    // and those refs have been mounted to the dom\n    // on the state update in calculateOffsets with new markOffsets are calculated\n\n    if (prevProps.max !== max || prevProps.min !== min || prevProps.step !== step || prevState.markOffsets.length !== this.state.markOffsets.length) {\n      this.calculateMarkOffsets();\n      values.forEach(function (value) {\n        if (!utils_1.isStepDivisible(min, value, step)) {\n          console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n        }\n      });\n    }\n  };\n\n  Range.prototype.componentWillUnmount = function () {\n    var options = {\n      passive: false\n    };\n    document.removeEventListener('mousedown', this.onMouseOrTouchStart, options); // These need to be removed!!\n\n    document.removeEventListener('mousemove', this.schdOnMouseMove);\n    document.removeEventListener('touchmove', this.schdOnTouchMove);\n    document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n    document.removeEventListener('mouseup', this.schdOnEnd);\n    document.removeEventListener('touchend', this.schdOnEnd);\n    this.resizeObserver.unobserve(this.trackRef.current);\n  };\n\n  Range.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        renderTrack = _a.renderTrack,\n        renderThumb = _a.renderThumb,\n        _b = _a.renderMark,\n        renderMark = _b === void 0 ? function () {\n      return null;\n    } : _b,\n        values = _a.values,\n        min = _a.min,\n        max = _a.max,\n        allowOverlap = _a.allowOverlap,\n        disabled = _a.disabled;\n    var _c = this.state,\n        draggedThumbIndex = _c.draggedThumbIndex,\n        thumbZIndexes = _c.thumbZIndexes,\n        markOffsets = _c.markOffsets;\n    return renderTrack({\n      props: {\n        style: {\n          // creates stacking context that prevents z-index applied to thumbs\n          // interfere with other elements\n          transform: 'scale(1)',\n          cursor: draggedThumbIndex > -1 ? 'grabbing' : this.props.draggableTrack ? utils_1.isVertical(this.props.direction) ? 'ns-resize' : 'ew-resize' : values.length === 1 && !disabled ? 'pointer' : 'inherit'\n        },\n        onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n        onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n        ref: this.trackRef\n      },\n      isDragged: this.state.draggedThumbIndex > -1,\n      disabled: disabled,\n      children: __spreadArrays(markOffsets.map(function (offset, index, arr) {\n        return renderMark({\n          props: {\n            style: _this.props.direction === types_1.Direction.Left || _this.props.direction === types_1.Direction.Right ? {\n              position: 'absolute',\n              left: offset[0] + \"px\",\n              marginTop: offset[1] + \"px\"\n            } : {\n              position: 'absolute',\n              top: offset[0] + \"px\",\n              marginLeft: offset[1] + \"px\"\n            },\n            key: \"mark\" + index,\n            ref: _this.markRefs[index]\n          },\n          index: index\n        });\n      }), values.map(function (value, index) {\n        var isDragged = _this.state.draggedThumbIndex === index;\n        return renderThumb({\n          index: index,\n          value: value,\n          isDragged: isDragged,\n          props: {\n            style: {\n              position: 'absolute',\n              zIndex: thumbZIndexes[index],\n              cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n              userSelect: 'none',\n              touchAction: 'none',\n              WebkitUserSelect: 'none',\n              MozUserSelect: 'none',\n              msUserSelect: 'none'\n            },\n            key: index,\n            tabIndex: disabled ? undefined : 0,\n            'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n            'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n            'aria-valuenow': value,\n            draggable: false,\n            ref: _this.thumbRefs[index],\n            role: 'slider',\n            onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n            onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n          }\n        });\n      }))\n    });\n  };\n\n  Range.defaultProps = {\n    step: 1,\n    direction: types_1.Direction.Right,\n    rtl: false,\n    disabled: false,\n    allowOverlap: false,\n    draggableTrack: false,\n    min: 0,\n    max: 100\n  };\n  return Range;\n}(React.Component);\n\nexports.default = Range;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__spreadArrays","s","i","il","arguments","length","r","a","j","jl","exports","React","require","utils_1","types_1","INCREASE_KEYS","DECREASE_KEYS","Range","_super","props","_this","trackRef","createRef","thumbRefs","markRefs","state","draggedTrackPos","draggedThumbIndex","thumbZIndexes","values","fill","map","t","isChanged","markOffsets","getOffsets","_a","direction","min","max","trackElement","current","trackRect","getBoundingClientRect","trackPadding","getPaddingAndBorder","getThumbs","thumb","index","thumbOffsets","x","y","thumbRect","thumbMargins","getMargin","Direction","Right","left","height","top","width","relativeValue","Left","right","Up","Down","assertUnreachable","from","children","filter","el","hasAttribute","console","warn","getTargetIndex","e","findIndex","child","target","contains","addTouchEvents","document","addEventListener","schdOnTouchMove","passive","schdOnEnd","addMouseEvents","schdOnMouseMove","onMouseDownTrack","button","persist","preventDefault","nativeEvent","draggableTrack","some","thumbRef","setState","clientX","clientY","onMove","getClosestThumbIndex","focus","onResize","translateThumbs","rtl","calculateMarkOffsets","onTouchStartTrack","touches","onMouseOrTouchStart","disabled","isTouch","isTouchEvent","Math","apply","onMouseMove","onTouchMove","onKeyDown","onChange","step","inverter","includes","key","replaceAt","normalizeValue","fireOnFinalChange","onKeyUp","_b","trackLength","isVertical","dX","dY","deltaValue","abs","sign","thumbValue","newValues","slice","newValue","allowOverlap","onEnd","removeEventListener","onFinalChange","renderMark","elStyles","window","getComputedStyle","trackWidth","parseInt","trackHeight","paddingLeft","paddingTop","res","numOfMarks","markHeight","markWidth","markRect","push","round","Error","schd","componentDidMount","resizeObserver","ResizeObserver","observe","unobserve","checkInitialOverlap","forEach","checkBoundaries","isStepDivisible","componentDidUpdate","prevProps","prevState","componentWillUnmount","options","render","renderTrack","renderThumb","_c","style","transform","cursor","onMouseDown","voidFn","onTouchStart","ref","isDragged","offset","arr","position","marginTop","marginLeft","zIndex","userSelect","touchAction","WebkitUserSelect","MozUserSelect","msUserSelect","tabIndex","draggable","role","defaultProps","Component","default"],"sources":["D:/React/React_Spotify/Spotify/project_spotify/spotify-project/my-app/node_modules/react-range/lib/Range.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar utils_1 = require(\"./utils\");\nvar types_1 = require(\"./types\");\nvar INCREASE_KEYS = ['ArrowRight', 'ArrowUp', 'k', 'PageUp'];\nvar DECREASE_KEYS = ['ArrowLeft', 'ArrowDown', 'j', 'PageDown'];\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range(props) {\n        var _this = _super.call(this, props) || this;\n        _this.trackRef = React.createRef();\n        _this.thumbRefs = [];\n        _this.markRefs = [];\n        _this.state = {\n            draggedTrackPos: [-1, -1],\n            draggedThumbIndex: -1,\n            thumbZIndexes: new Array(_this.props.values.length).fill(0).map(function (t, i) { return i; }),\n            isChanged: false,\n            markOffsets: []\n        };\n        _this.getOffsets = function () {\n            var _a = _this.props, direction = _a.direction, values = _a.values, min = _a.min, max = _a.max;\n            var trackElement = _this.trackRef.current;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackPadding = utils_1.getPaddingAndBorder(trackElement);\n            return _this.getThumbs().map(function (thumb, index) {\n                var thumbOffsets = { x: 0, y: 0 };\n                var thumbRect = thumb.getBoundingClientRect();\n                var thumbMargins = utils_1.getMargin(thumb);\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        thumbOffsets.x = (thumbMargins.left + trackPadding.left) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Left:\n                        thumbOffsets.x = (thumbMargins.right + trackPadding.right) * -1;\n                        thumbOffsets.y =\n                            ((thumbRect.height - trackRect.height) / 2 + trackPadding.top) * -1;\n                        thumbOffsets.x +=\n                            trackRect.width -\n                                trackRect.width * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.width / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Up:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height -\n                                trackRect.height * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    case types_1.Direction.Down:\n                        thumbOffsets.x =\n                            ((thumbRect.width - trackRect.width) / 2 +\n                                thumbMargins.left +\n                                trackPadding.left) *\n                                -1;\n                        thumbOffsets.y = -trackPadding.left;\n                        thumbOffsets.y +=\n                            trackRect.height * utils_1.relativeValue(values[index], min, max) -\n                                thumbRect.height / 2;\n                        return thumbOffsets;\n                    default:\n                        return utils_1.assertUnreachable(direction);\n                }\n            });\n        };\n        _this.getThumbs = function () {\n            if (_this.trackRef && _this.trackRef.current) {\n                return Array.from(_this.trackRef.current.children).filter(function (el) {\n                    return el.hasAttribute('aria-valuenow');\n                });\n            }\n            console.warn('No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?');\n            return [];\n        };\n        _this.getTargetIndex = function (e) {\n            return _this.getThumbs().findIndex(function (child) { return child === e.target || child.contains(e.target); });\n        };\n        _this.addTouchEvents = function (e) {\n            document.addEventListener('touchmove', _this.schdOnTouchMove, {\n                passive: false\n            });\n            document.addEventListener('touchend', _this.schdOnEnd, {\n                passive: false\n            });\n            document.addEventListener('touchcancel', _this.schdOnEnd, {\n                passive: false\n            });\n        };\n        _this.addMouseEvents = function (e) {\n            document.addEventListener('mousemove', _this.schdOnMouseMove);\n            document.addEventListener('mouseup', _this.schdOnEnd);\n        };\n        _this.onMouseDownTrack = function (e) {\n            var _a;\n            if (e.button !== 0)\n                return;\n            e.persist();\n            e.preventDefault();\n            _this.addMouseEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.clientX, e.clientY]\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) { return t.current; }), e.clientX, e.clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.clientX, e.clientY); });\n            }\n        };\n        _this.onResize = function () {\n            utils_1.translateThumbs(_this.getThumbs(), _this.getOffsets(), _this.props.rtl);\n            _this.calculateMarkOffsets();\n        };\n        _this.onTouchStartTrack = function (e) {\n            var _a;\n            e.persist();\n            _this.addTouchEvents(e.nativeEvent);\n            if (_this.props.values.length > 1 && _this.props.draggableTrack) {\n                if (_this.thumbRefs.some(function (thumbRef) { var _a; return (_a = thumbRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target); }))\n                    return;\n                // handle dragging the whole track\n                _this.setState({\n                    draggedTrackPos: [e.touches[0].clientX, e.touches[0].clientY]\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n            else {\n                // get the index of the thumb that is closest to the place where the track is clicked\n                var draggedThumbIndex = utils_1.getClosestThumbIndex(_this.thumbRefs.map(function (t) { return t.current; }), e.touches[0].clientX, e.touches[0].clientY, _this.props.direction);\n                // move the thumb which is closest to the place where the track is clicked\n                (_a = _this.thumbRefs[draggedThumbIndex].current) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.setState({\n                    draggedThumbIndex: draggedThumbIndex\n                }, function () { return _this.onMove(e.touches[0].clientX, e.touches[0].clientY); });\n            }\n        };\n        _this.onMouseOrTouchStart = function (e) {\n            if (_this.props.disabled)\n                return;\n            var isTouch = utils_1.isTouchEvent(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            var index = _this.getTargetIndex(e);\n            if (index === -1)\n                return;\n            if (isTouch) {\n                _this.addTouchEvents(e);\n            }\n            else {\n                _this.addMouseEvents(e);\n            }\n            _this.setState({\n                draggedThumbIndex: index,\n                thumbZIndexes: _this.state.thumbZIndexes.map(function (t, i) {\n                    if (i === index) {\n                        return Math.max.apply(Math, _this.state.thumbZIndexes);\n                    }\n                    return t <= _this.state.thumbZIndexes[index] ? t : t - 1;\n                })\n            });\n        };\n        _this.onMouseMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.clientX, e.clientY);\n        };\n        _this.onTouchMove = function (e) {\n            e.preventDefault();\n            _this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        _this.onKeyDown = function (e) {\n            var _a = _this.props, values = _a.values, onChange = _a.onChange, step = _a.step, rtl = _a.rtl, direction = _a.direction;\n            var isChanged = _this.state.isChanged;\n            var index = _this.getTargetIndex(e.nativeEvent);\n            var inverter = rtl || direction === types_1.Direction.Left || direction === types_1.Direction.Down\n                ? -1\n                : 1;\n            if (index === -1)\n                return;\n            if (INCREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] + inverter * (e.key === 'PageUp' ? step * 10 : step), index)));\n            }\n            else if (DECREASE_KEYS.includes(e.key)) {\n                e.preventDefault();\n                _this.setState({\n                    draggedThumbIndex: index,\n                    isChanged: true\n                });\n                onChange(utils_1.replaceAt(values, index, _this.normalizeValue(values[index] -\n                    inverter * (e.key === 'PageDown' ? step * 10 : step), index)));\n            }\n            else if (e.key === 'Tab') {\n                _this.setState({ draggedThumbIndex: -1 }, function () {\n                    // If key pressed when thumb was moving, fire onFinalChange\n                    if (isChanged) {\n                        _this.fireOnFinalChange();\n                    }\n                });\n            }\n            else {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            }\n        };\n        _this.onKeyUp = function (e) {\n            var isChanged = _this.state.isChanged;\n            _this.setState({\n                draggedThumbIndex: -1\n            }, function () {\n                if (isChanged) {\n                    _this.fireOnFinalChange();\n                }\n            });\n        };\n        _this.onMove = function (clientX, clientY) {\n            var _a = _this.state, draggedThumbIndex = _a.draggedThumbIndex, draggedTrackPos = _a.draggedTrackPos;\n            var _b = _this.props, direction = _b.direction, min = _b.min, max = _b.max, onChange = _b.onChange, values = _b.values, step = _b.step, rtl = _b.rtl;\n            if (draggedThumbIndex === -1 &&\n                draggedTrackPos[0] === -1 &&\n                draggedTrackPos[1] === -1)\n                return null;\n            var trackElement = _this.trackRef.current;\n            // If component was closed down prematurely, A last onMove could be triggered based on requestAnimationFrame()\n            if (!trackElement)\n                return null;\n            var trackRect = trackElement.getBoundingClientRect();\n            var trackLength = utils_1.isVertical(direction)\n                ? trackRect.height\n                : trackRect.width;\n            if (draggedTrackPos[0] !== -1 && draggedTrackPos[1] !== -1) {\n                // calculate how much it moved since the last update\n                var dX = clientX - draggedTrackPos[0];\n                var dY = clientY - draggedTrackPos[1];\n                // calculate the delta of the value\n                var deltaValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                    case types_1.Direction.Left:\n                        deltaValue = (dX / trackLength) * (max - min);\n                        break;\n                    case types_1.Direction.Down:\n                    case types_1.Direction.Up:\n                        deltaValue = (dY / trackLength) * (max - min);\n                        break;\n                    default:\n                        utils_1.assertUnreachable(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    deltaValue *= -1;\n                }\n                if (Math.abs(deltaValue) >= step / 2) {\n                    // adjust delta so it fits into the range\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        if ((values[i] === max && Math.sign(deltaValue) === 1) ||\n                            (values[i] === min && Math.sign(deltaValue) === -1))\n                            return;\n                        var thumbValue = values[i] + deltaValue;\n                        if (thumbValue > max)\n                            deltaValue = max - values[i];\n                        else if (thumbValue < min)\n                            deltaValue = min - values[i];\n                    }\n                    // add the delta to each thumb\n                    var newValues = values.slice(0);\n                    for (var i = 0; i < _this.thumbRefs.length; i++) {\n                        newValues = utils_1.replaceAt(newValues, i, _this.normalizeValue(values[i] + deltaValue, i));\n                    }\n                    _this.setState({\n                        draggedTrackPos: [clientX, clientY]\n                    });\n                    onChange(newValues);\n                }\n            }\n            else {\n                var newValue = 0;\n                switch (direction) {\n                    case types_1.Direction.Right:\n                        newValue =\n                            ((clientX - trackRect.left) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Left:\n                        newValue =\n                            ((trackLength - (clientX - trackRect.left)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    case types_1.Direction.Down:\n                        newValue =\n                            ((clientY - trackRect.top) / trackLength) * (max - min) + min;\n                        break;\n                    case types_1.Direction.Up:\n                        newValue =\n                            ((trackLength - (clientY - trackRect.top)) / trackLength) *\n                                (max - min) +\n                                min;\n                        break;\n                    default:\n                        utils_1.assertUnreachable(direction);\n                }\n                // invert for RTL\n                if (rtl) {\n                    newValue = max + min - newValue;\n                }\n                if (Math.abs(values[draggedThumbIndex] - newValue) >= step / 2) {\n                    onChange(utils_1.replaceAt(values, draggedThumbIndex, _this.normalizeValue(newValue, draggedThumbIndex)));\n                }\n            }\n        };\n        _this.normalizeValue = function (value, index) {\n            var _a = _this.props, min = _a.min, max = _a.max, step = _a.step, allowOverlap = _a.allowOverlap, values = _a.values;\n            return utils_1.normalizeValue(value, index, min, max, step, allowOverlap, values);\n        };\n        _this.onEnd = function (e) {\n            e.preventDefault();\n            document.removeEventListener('mousemove', _this.schdOnMouseMove);\n            document.removeEventListener('touchmove', _this.schdOnTouchMove);\n            document.removeEventListener('mouseup', _this.schdOnEnd);\n            document.removeEventListener('touchend', _this.schdOnEnd);\n            document.removeEventListener('touchcancel', _this.schdOnEnd);\n            if (_this.state.draggedThumbIndex === -1 &&\n                _this.state.draggedTrackPos[0] === -1 &&\n                _this.state.draggedTrackPos[1] === -1)\n                return null;\n            _this.setState({ draggedThumbIndex: -1, draggedTrackPos: [-1, -1] }, function () {\n                _this.fireOnFinalChange();\n            });\n        };\n        _this.fireOnFinalChange = function () {\n            _this.setState({ isChanged: false });\n            var _a = _this.props, onFinalChange = _a.onFinalChange, values = _a.values;\n            if (onFinalChange) {\n                onFinalChange(values);\n            }\n        };\n        _this.calculateMarkOffsets = function () {\n            if (!_this.props.renderMark ||\n                !_this.trackRef ||\n                _this.trackRef.current === null)\n                return;\n            var elStyles = window.getComputedStyle(_this.trackRef.current);\n            var trackWidth = parseInt(elStyles.width, 10);\n            var trackHeight = parseInt(elStyles.height, 10);\n            var paddingLeft = parseInt(elStyles.paddingLeft, 10);\n            var paddingTop = parseInt(elStyles.paddingTop, 10);\n            var res = [];\n            for (var i = 0; i < _this.numOfMarks + 1; i++) {\n                var markHeight = 9999;\n                var markWidth = 9999;\n                if (_this.markRefs[i].current) {\n                    var markRect = _this.markRefs[i].current.getBoundingClientRect();\n                    markHeight = markRect.height;\n                    markWidth = markRect.width;\n                }\n                if (_this.props.direction === types_1.Direction.Left ||\n                    _this.props.direction === types_1.Direction.Right) {\n                    res.push([\n                        Math.round((trackWidth / _this.numOfMarks) * i + paddingLeft - markWidth / 2),\n                        -Math.round((markHeight - trackHeight) / 2)\n                    ]);\n                }\n                else {\n                    res.push([\n                        Math.round((trackHeight / _this.numOfMarks) * i + paddingTop - markHeight / 2),\n                        -Math.round((markWidth - trackWidth) / 2)\n                    ]);\n                }\n            }\n            _this.setState({ markOffsets: res });\n        };\n        if (props.step === 0) {\n            throw new Error('\"step\" property should be a positive number');\n        }\n        _this.numOfMarks = (props.max - props.min) / _this.props.step;\n        _this.schdOnMouseMove = utils_1.schd(_this.onMouseMove);\n        _this.schdOnTouchMove = utils_1.schd(_this.onTouchMove);\n        _this.schdOnEnd = utils_1.schd(_this.onEnd);\n        _this.thumbRefs = props.values.map(function () { return React.createRef(); });\n        for (var i = 0; i < _this.numOfMarks + 1; i++) {\n            _this.markRefs[i] = React.createRef();\n        }\n        return _this;\n    }\n    Range.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, values = _a.values, min = _a.min, step = _a.step;\n        this.resizeObserver = window.ResizeObserver\n            ? new window.ResizeObserver(this.onResize)\n            : {\n                observe: function () { return window.addEventListener('resize', _this.onResize); },\n                unobserve: function () { return window.removeEventListener('resize', _this.onResize); }\n            };\n        document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        document.addEventListener('mousedown', this.onMouseOrTouchStart, {\n            passive: false\n        });\n        !this.props.allowOverlap && utils_1.checkInitialOverlap(this.props.values);\n        this.props.values.forEach(function (value) {\n            return utils_1.checkBoundaries(value, _this.props.min, _this.props.max);\n        });\n        this.resizeObserver.observe(this.trackRef.current);\n        utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), this.props.rtl);\n        this.calculateMarkOffsets();\n        values.forEach(function (value) {\n            if (!utils_1.isStepDivisible(min, value, step)) {\n                console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n            }\n        });\n    };\n    Range.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, max = _a.max, min = _a.min, step = _a.step, values = _a.values, rtl = _a.rtl;\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step) {\n            this.markRefs = [];\n            this.numOfMarks = (max - min) / step;\n            for (var i = 0; i < this.numOfMarks + 1; i++) {\n                this.markRefs[i] = React.createRef();\n            }\n        }\n        utils_1.translateThumbs(this.getThumbs(), this.getOffsets(), rtl);\n        // ensure offsets are calculated when the refs for the marks have been created\n        // and those refs have been mounted to the dom\n        // on the state update in calculateOffsets with new markOffsets are calculated\n        if (prevProps.max !== max ||\n            prevProps.min !== min ||\n            prevProps.step !== step ||\n            prevState.markOffsets.length !== this.state.markOffsets.length) {\n            this.calculateMarkOffsets();\n            values.forEach(function (value) {\n                if (!utils_1.isStepDivisible(min, value, step)) {\n                    console.warn('The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.');\n                }\n            });\n        }\n    };\n    Range.prototype.componentWillUnmount = function () {\n        var options = {\n            passive: false\n        };\n        document.removeEventListener('mousedown', this.onMouseOrTouchStart, options);\n        // These need to be removed!!\n        document.removeEventListener('mousemove', this.schdOnMouseMove);\n        document.removeEventListener('touchmove', this.schdOnTouchMove);\n        document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n        document.removeEventListener('mouseup', this.schdOnEnd);\n        document.removeEventListener('touchend', this.schdOnEnd);\n        this.resizeObserver.unobserve(this.trackRef.current);\n    };\n    Range.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, renderTrack = _a.renderTrack, renderThumb = _a.renderThumb, _b = _a.renderMark, renderMark = _b === void 0 ? function () { return null; } : _b, values = _a.values, min = _a.min, max = _a.max, allowOverlap = _a.allowOverlap, disabled = _a.disabled;\n        var _c = this.state, draggedThumbIndex = _c.draggedThumbIndex, thumbZIndexes = _c.thumbZIndexes, markOffsets = _c.markOffsets;\n        return renderTrack({\n            props: {\n                style: {\n                    // creates stacking context that prevents z-index applied to thumbs\n                    // interfere with other elements\n                    transform: 'scale(1)',\n                    cursor: draggedThumbIndex > -1\n                        ? 'grabbing'\n                        : this.props.draggableTrack\n                            ? utils_1.isVertical(this.props.direction)\n                                ? 'ns-resize'\n                                : 'ew-resize'\n                            : values.length === 1 && !disabled\n                                ? 'pointer'\n                                : 'inherit'\n                },\n                onMouseDown: disabled ? utils_1.voidFn : this.onMouseDownTrack,\n                onTouchStart: disabled ? utils_1.voidFn : this.onTouchStartTrack,\n                ref: this.trackRef\n            },\n            isDragged: this.state.draggedThumbIndex > -1,\n            disabled: disabled,\n            children: __spreadArrays(markOffsets.map(function (offset, index, arr) {\n                return renderMark({\n                    props: {\n                        style: _this.props.direction === types_1.Direction.Left ||\n                            _this.props.direction === types_1.Direction.Right\n                            ? {\n                                position: 'absolute',\n                                left: offset[0] + \"px\",\n                                marginTop: offset[1] + \"px\"\n                            }\n                            : {\n                                position: 'absolute',\n                                top: offset[0] + \"px\",\n                                marginLeft: offset[1] + \"px\"\n                            },\n                        key: \"mark\" + index,\n                        ref: _this.markRefs[index]\n                    },\n                    index: index\n                });\n            }), values.map(function (value, index) {\n                var isDragged = _this.state.draggedThumbIndex === index;\n                return renderThumb({\n                    index: index,\n                    value: value,\n                    isDragged: isDragged,\n                    props: {\n                        style: {\n                            position: 'absolute',\n                            zIndex: thumbZIndexes[index],\n                            cursor: disabled ? 'inherit' : isDragged ? 'grabbing' : 'grab',\n                            userSelect: 'none',\n                            touchAction: 'none',\n                            WebkitUserSelect: 'none',\n                            MozUserSelect: 'none',\n                            msUserSelect: 'none'\n                        },\n                        key: index,\n                        tabIndex: disabled ? undefined : 0,\n                        'aria-valuemax': allowOverlap ? max : values[index + 1] || max,\n                        'aria-valuemin': allowOverlap ? min : values[index - 1] || min,\n                        'aria-valuenow': value,\n                        draggable: false,\n                        ref: _this.thumbRefs[index],\n                        role: 'slider',\n                        onKeyDown: disabled ? utils_1.voidFn : _this.onKeyDown,\n                        onKeyUp: disabled ? utils_1.voidFn : _this.onKeyUp\n                    }\n                });\n            }))\n        });\n    };\n    Range.defaultProps = {\n        step: 1,\n        direction: types_1.Direction.Right,\n        rtl: false,\n        disabled: false,\n        allowOverlap: false,\n        draggableTrack: false,\n        min: 0,\n        max: 100\n    };\n    return Range;\n}(React.Component));\nexports.default = Range;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}